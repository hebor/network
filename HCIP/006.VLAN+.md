---------

**端口隔离：实现<font color="red">同一VLAN内端口之间的隔离</font>**

- 交换机端口之间的一种访问控制安全机制

- 配置端口隔离后，无论是哪个VLAN，都不能互相通信

  | 命令                           | 说明                                                     |
  | ------------------------------ | -------------------------------------------------------- |
  | port-isolate enable [group 5]  | 开启端口隔离功能，默认加入Group 1                        |
  | [SW-G0/0/2]am isolate G0/0/1   | 配置从G0/0/2到G0/0/1的单向隔离（禁止从G0/0/2访问G0/0/1） |
  | port-isolate mode all          | 端口隔离模式更变为二层、三层都隔离，默认仅隔离二层       |
  | display port-isolate group all | 查看隔离端口组信息                                       |

  Group就是一个隔离组，加入该隔离组的端口之间不允许访问

在某些非网管交换机上会有三种网络可选模式：网络克隆、标准交换、VLAN隔离，标准交换就是正常的二层交换，网络克隆是对类似PXE批处理应用的一种优化，VLAN隔离则是实现了端口隔离的功能。VLAN隔离一般是除了交换机的最后两个端口作为Uplink口以外，其他所有端口处于同一隔离组，实现端口隔离功能，各厂家的交换机可能有所不同，以设备参数为准

配置单向隔离后，在对应的两个端口抓包可以看到，在G0/0/1端口抓包观察，从G0/0/1去G0/0/2的包是正常的，且没有收到回包；在G0/0/2端口抓包观察，G0/0/2能够正常收到G0/0/1的包，且给G0/0/1也有回包。因此，G0/0/2给G0/0/1的回包实际上是在数据到达交换机的G0/0/2口时没有转发

通过两个端口下的主机ping回显信息也能看出问题，G0/0/1端口下的主机ping包回显是“目标主机不可达”，说明G0/0/1通过ARP请求没有获取到G0/0/2端口下主机的MAC，这是因为G0/0/2端口没有将主机的ARP回复转发到G0/0/1，而G0/0/2端口下主机ping包回显是“请求超时”，说明G0/0/2的ARP请求是从G0/0/1处收到了ARP回复的